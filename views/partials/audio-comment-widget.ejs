<div class="controls">
    <button class="play-btn" id="playBtn" disabled>▶</button>
    <div class="time-display" id="timeDisplay">00:00 / 00:00</div>
</div>

<div class="waveform-container" id="waveformContainer">
    <div id="waveform"></div>
</div>

<div class="comments-toggle">
    <button class="toggle-btn" id="commentsToggle">Show Closed Comments</button>
</div>

<!-- Inline comment form (hidden by default) -->
<div class="inline-comment-form" id="inlineCommentForm" style="display: none;">
    <div class="form-header">
        <h3>Add Comment at <span id="commentTimestamp">0:00</span></h3>
        <button class="close-btn" id="cancelCommentBtn">×</button>
    </div>
    <form id="commentForm">
        <div class="form-group">
            <label for="commentUsername">Username:</label>
            <input type="text" id="commentUsername" name="username" value="anonymous" required>
        </div>
        <div class="form-group">
            <label for="commentContent">Comment:</label>
            <textarea id="commentContent" name="content" placeholder="Enter your comment..." required rows="4"></textarea>
        </div>
        <div class="form-actions">
            <button type="button" class="btn-secondary" id="cancelCommentBtn2">Cancel</button>
            <button type="submit">Post Comment</button>
        </div>
    </form>
</div>

<div class="comments-section">
    <h3 style="margin-bottom: 15px;">Comments</h3>
    <div class="comments-placeholder" id="commentsContainer">
        No comments yet. Click on the waveform to add a comment!
    </div>
</div>

<template id="reply-modal-template">
    <div class="modal-overlay" id="replyModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Reply to Comment</h3>
                <button class="modal-close">×</button>
            </div>
            <form id="replyForm">
                <div class="form-group">
                    <label for="replyUsername">Username:</label>
                    <input type="text" id="replyUsername" name="username" required>
                </div>
                <div class="form-group">
                    <label for="replyContent">Reply:</label>
                    <textarea id="replyContent" name="content" placeholder="Enter your reply..." required></textarea>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary cancel-reply-btn">Cancel</button>
                    <button type="submit">Post Reply</button>
                </div>
            </form>
        </div>
    </div>
</template>

<template id="comment-summary-template">
    <div class="comment-summary">
        <div class="comment-summary-header">
            <span class="comment-summary-time"></span>
            <span class="comment-summary-meta"></span>
        </div>
        <div class="comment-summary-preview"></div>
        <div class="comment-summary-actions">
            <button class="btn-small goto-btn">Goto</button>
            <button class="btn-small open-btn">Open</button>
        </div>
    </div>
</template>

<template id="comment-thread-template">
    <button class="btn-secondary back-to-list-btn" style="margin-bottom: 15px;">← Back to all comments</button>
    <div class="comments-list">
        <div class="comment-thread">
            <div class="comment-header">
                <span class="comment-timestamp"></span>
                <span class="comment-meta"></span>
            </div>
            <div class="comment-item root-comment">
                <div class="comment-author"></div>
                <div class="comment-content"></div>
                <div class="comment-date"></div>
                <div class="comment-actions">
                    <button class="btn-small reply-btn">Reply</button>
                    <button class="btn-small close-thread-btn" style="display: none;">Close Thread</button>
                </div>
            </div>
            <div class="replies-container"></div>
        </div>
    </div>
</template>

<template id="comment-reply-template">
    <div class="comment-item comment-reply">
        <div class="comment-author"></div>
        <div class="comment-content"></div>
        <div class="comment-date"></div>
    </div>
</template>
